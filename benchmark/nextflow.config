process.executor = 'slurm'
process.queue = 'normal,owners,ellenyeh'

conda.enabled = true

executor {
    queueSize=250
    submitRateLimit = "1 sec"
}

process {
    withLabel: 'very_large' {
        memory = '512 GB'
        queue = "bigmem"
        cpus = 32
        time = 24.h
        errorStrategy = {task.attempt < 3 ? 'retry' : 'ignore'}
        maxRetries = 4

    }

    withLabel: 'large' {
        memory = '32 GB'
        cpus = 8
        time = 32.h
        errorStrategy = {task.attempt < 3 ? 'retry' : 'ignore'}
        maxRetries = 4

    }

    withLabel: 'medium' {
        memory = '4 GB'
        cpus = 4
        time = 16.h
        errorStrategy = {task.attempt < 3 ? 'retry' : 'ignore'}
        maxRetries = 4
    }

    withLabel: 'small' {
        memory = '8 GB'
        cpus = 2
        time = 8.h
        errorStrategy = {task.attempt < 3 ? 'retry' : 'ignore'}
        maxRetries = 4

    }
}


